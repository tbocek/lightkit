(()=>{"use strict";var e={262:function(e,s,t){var o=t(869);t(570),t(706);var r=t(786),l=t(619),i=r.XKW(`<div class="hero svelte-iopek6"><h1 class="svelte-iopek6"> </h1> <p class="subtitle svelte-iopek6">A Modern Framework for Building Fast, SEO-Friendly Web Applications</p> <div class="cta-buttons svelte-iopek6"><a href="doc" class="cta-button primary svelte-iopek6">View Documentation</a> <a href="example" class="cta-button secondary svelte-iopek6">Try Bitcoin Demo</a> <div class="server-side-indicator svelte-iopek6">(these links are client-side routed links)</div></div> <div class="features svelte-iopek6"><div class="feature svelte-iopek6"><h3 class="svelte-iopek6">‚ö°Ô∏è Lightning Fast</h3> <p class="svelte-iopek6">Pre-rendered pages with hydration for optimal performance</p></div> <div class="feature svelte-iopek6"><h3 class="svelte-iopek6">üìà Real-time Data</h3> <p class="svelte-iopek6">Seamless integration with external APIs and live updates</p></div> <div class="feature svelte-iopek6"><h3 class="svelte-iopek6">üîÑ SSPR Support</h3> <p class="svelte-iopek6">Server-Side Pre-Rendering for better SEO</p></div></div></div>`);function c(e){let s=r.jqu("Welcome to PrevelteKit");window?.JSDOM&&r.t8m(s,"Server-Side Pre-Rendered with PrevelteKit, you see this in the source code, you may see it flashing briefly, but you will not see this in the DOM after loading");var t=i(),o=r.iUc(t),c=r.iUc(o,!0);r.mcB(o);var a=r.J9n(o,4),n=r.iUc(a);r.aDg(n,e=>l.BC?.(e));var v=r.J9n(n,2);r.aDg(v,e=>l.BC?.(e)),r.lpx(2),r.mcB(a),r.lpx(2),r.mcB(t),r.OwZ(()=>r.u7_(c,r.U2M(s))),r.R3I(e,t)}var a=r.XKW(`<div class="docs svelte-2orxox"><header class="svelte-2orxox"><h1 class="svelte-2orxox">PrevelteKit Documentation</h1> <p class="render-info svelte-2orxox"> </p></header> <section class="svelte-2orxox"><h2 class="svelte-2orxox">Getting Started</h2> <div class="code-block svelte-2orxox"><pre class="svelte-2orxox"><code class="svelte-2orxox">git clone https://github.com/tbocek/preveltekit.git
cd preveltekit
pnpm install
pnpm dev    # Development mode
pnpm build  # Production build</code></pre></div></section> <section class="svelte-2orxox"><h2 class="svelte-2orxox">Core Features</h2> <h3 class="svelte-2orxox">üì¶ Server-Side Pre-Rendering (SSPR)</h3> <p class="svelte-2orxox">Unlike traditional SSR or SSG, SSPR pre-renders your app at build time while maintaining full interactivity through hydration.
            This gives you the best of both worlds: fast initial loads and dynamic functionality.</p> <h3 class="svelte-2orxox">‚ö° Build System</h3> <p class="svelte-2orxox">Built on Rsbuild for lightning-fast builds. The system automatically handles:</p> <ul class="svelte-2orxox"><li class="svelte-2orxox">TypeScript compilation and type checking</li> <li class="svelte-2orxox">Asset optimization and bundling</li> <li class="svelte-2orxox">CSS processing and minification</li> <li class="svelte-2orxox">Production optimizations like code splitting</li></ul> <h3 class="svelte-2orxox">üîÑ Development Workflow</h3> <p class="svelte-2orxox">Three modes available to suit your needs:</p> <ul class="svelte-2orxox"><li class="svelte-2orxox"><strong class="svelte-2orxox">Development (pnpm dev)</strong>: Express server with fast rebuilds and hot module replacement</li> <li class="svelte-2orxox"><strong class="svelte-2orxox">Staging (pnpm stage)</strong>: Production build with local preview server</li> <li class="svelte-2orxox"><strong class="svelte-2orxox">Production (pnpm build)</strong>: Optimized build with pre-compression (Brotli, Gzip, Zstandard)</li></ul></section> <section class="svelte-2orxox"><h2 class="svelte-2orxox">SSPR Development</h2> <h3 class="svelte-2orxox">üîç Detecting Server Pre-Rendering</h3> <p class="svelte-2orxox">PrevelteKit uses <code class="svelte-2orxox">window.JSDOM</code> to indicate when code is running during server pre-rendering.
            This is crucial for handling client-side-only code like API calls and intervals.</p> <div class="code-block svelte-2orxox"><pre class="svelte-2orxox"><code class="svelte-2orxox"></code></pre></div> <h3 class="svelte-2orxox">üîÑ Handling Client-Side Operations</h3> <p class="svelte-2orxox">When working with APIs, timers, or browser-specific features, wrap them in a JSDOM check to prevent execution during pre-rendering:</p> <div class="code-block svelte-2orxox"><pre class="svelte-2orxox"><code class="svelte-2orxox"></code></pre></div> <p class="svelte-2orxox"><strong class="svelte-2orxox">Common use cases for JSDOM checks:</strong></p> <ul class="svelte-2orxox"><li class="svelte-2orxox">API calls and data fetching</li> <li class="svelte-2orxox">Browser APIs (localStorage, sessionStorage)</li> <li class="svelte-2orxox">Timers and intervals</li> <li class="svelte-2orxox">DOM manipulation</li> <li class="svelte-2orxox">Browser-specific features (geolocation, notifications)</li></ul></section> <section class="svelte-2orxox"><h2 class="svelte-2orxox">Static Site Configuration</h2> <p class="svelte-2orxox">To add static routes to your application, configure them in <code class="svelte-2orxox">rsbuild.config.ts</code>.
            Each route needs an entry in the configuration. For example, to add routes for <code class="svelte-2orxox">/doc</code> and <code class="svelte-2orxox">/example</code>:</p> <div class="code-block svelte-2orxox"><pre class="svelte-2orxox"><code class="svelte-2orxox"></code></pre></div> <p class="svelte-2orxox"><strong class="svelte-2orxox">Important Notes:</strong></p> <ul class="svelte-2orxox"><li class="svelte-2orxox">Each entry key becomes a URL path in your application</li> <li class="svelte-2orxox">Subdirectories are not currently supported</li> <li class="svelte-2orxox">All entries point to the same <code class="svelte-2orxox">index.ts</code> file</li> <li class="svelte-2orxox">The router in your application will handle the actual component rendering</li></ul></section> <section class="svelte-2orxox"><h2 class="svelte-2orxox">Docker Support</h2> <p class="svelte-2orxox">Development environment:</p> <div class="code-block svelte-2orxox"><pre class="svelte-2orxox"><code class="svelte-2orxox">docker build -f Dockerfile.dev . -t preveltekit-dev
docker run -p3000:3000 -v./src:/app/src -v./public:/app/public preveltekit-dev</code></pre></div> <p class="svelte-2orxox">Production build:</p> <div class="code-block svelte-2orxox"><pre class="svelte-2orxox"><code class="svelte-2orxox">docker build . -t preveltekit
docker run -p3000:3000 preveltekit</code></pre></div></section> <section class="svelte-2orxox"><h2 class="svelte-2orxox">Project Structure</h2> <ul class="svelte-2orxox"><li class="svelte-2orxox"><strong class="svelte-2orxox">/src</strong>: Application source code</li> <li class="svelte-2orxox"><strong class="svelte-2orxox">/public</strong>: Static assets</li> <li class="svelte-2orxox"><strong class="svelte-2orxox">/dist</strong>: Production build output</li> <li class="svelte-2orxox"><strong class="svelte-2orxox">rsbuild.config.ts</strong>: Build configuration</li> <li class="svelte-2orxox"><strong class="svelte-2orxox">ssr.mjs</strong>: SSPR implementation</li></ul></section> <section class="svelte-2orxox"><h2 class="svelte-2orxox">Deployment</h2> <p class="svelte-2orxox">The production build generates static files with pre-compressed variants:</p> <ul class="svelte-2orxox"><li class="svelte-2orxox">Standard files (.js, .css, .html)</li> <li class="svelte-2orxox">Brotli compressed (.br)</li> <li class="svelte-2orxox">Gzip compressed (.gz)</li> <li class="svelte-2orxox">Zstandard compressed (.zst)</li></ul> <p class="svelte-2orxox">Deploy to any static hosting or web server that supports serving compressed assets.</p></section></div>`);function n(e){let s=r.jqu("Client Rendered");window?.JSDOM&&r.t8m(s,"Server Pre-Rendered");var t=a(),o=r.iUc(t),l=r.J9n(r.iUc(o),2),i=r.iUc(l);r.mcB(l),r.mcB(o);var c=r.J9n(o,6),n=r.J9n(r.iUc(c),6),v=r.iUc(n);r.iUc(v).textContent=`// Basic detection
let renderInfo = "Client Rendered";
if (window?.JSDOM) {
    renderInfo = "Server Pre-Rendered";
}`,r.mcB(v),r.mcB(n);var d=r.J9n(n,6),p=r.iUc(d);r.iUc(p).textContent=`$effect(() => {
    if (!window?.JSDOM) {
        fetchBitcoinPrice();
        // Set up refresh interval
        const interval = setInterval(fetchBitcoinPrice, 60000);
        return () => clearInterval(interval);
    }
});`,r.mcB(p),r.mcB(d),r.lpx(4),r.mcB(c);var x=r.J9n(c,2),u=r.J9n(r.iUc(x),4),m=r.iUc(u);r.iUc(m).textContent=`export default defineConfig({
    environments: {
        web: {
            plugins: [
                pluginSvelte(),
                pluginCssMinimizer()
            ],
            source: {
                entry: {
                    // Each entry corresponds to a static route
                    index: './src/index.ts',    // https://example.com/
                    doc: './src/index.ts',      // https://example.com/doc
                    example: './src/index.ts',  // https://example.com/example
                }
            },
            output: {
                target: 'web',
                minify: process.env.NODE_ENV === 'production',
            }
        }
    }
});`,r.mcB(m),r.mcB(u),r.lpx(4),r.mcB(x),r.lpx(6),r.mcB(t),r.OwZ(()=>r.u7_(i,`(${r.U2M(s)??""})`)),r.R3I(e,t)}var v=r.XKW('<div class="loading svelte-1r0itt8">Loading Bitcoin prices...</div>'),d=r.XKW('<div class="error svelte-1r0itt8"> <button class="svelte-1r0itt8">Retry</button></div>'),p=r.XKW('<div class="price-card svelte-1r0itt8"><div class="price-header svelte-1r0itt8"><span class="currency-code svelte-1r0itt8"><!></span> <span class="update-time svelte-1r0itt8"> </span></div> <div class="current-price svelte-1r0itt8"><!> </div></div> <div class="disclaimer svelte-1r0itt8">Cryptocurrency prices are highly volatile and subject to market risks. The displayed price information is for reference only and may not reflect real-time market conditions. Past performance is not indicative of future results. Please conduct your own research and consider your financial situation before making any investment decisions.</div>',1),x=r.XKW('<div class="bitcoin-dashboard svelte-1r0itt8"><div class="header svelte-1r0itt8"><h2 class="svelte-1r0itt8">Bitcoin Price Tracker</h2> <p class="render-info svelte-1r0itt8"> </p></div> <div class="price-display svelte-1r0itt8"><!></div></div>');function u(e,s){r.VFu(s,!0);let t=r.SBE(null),o=r.SBE(!0),l=r.SBE(null),i=r.SBE("Client Rendered");async function c(){try{r.t8m(o,!0),r.t8m(l,null);let e=await fetch("https://min-api.cryptocompare.com/data/generateAvg?fsym=BTC&tsym=USD&e=coinbase");if(!e.ok)throw Error("Failed to fetch data");r.t8m(t,r.sjz(await e.json()))}catch(e){r.t8m(l,r.sjz(e instanceof Error?e.message:"An error occurred"))}finally{r.t8m(o,!1)}}window?.JSDOM&&r.t8m(i,"Server Pre-Rendered"),r.JcM(()=>{if(!window?.JSDOM){c();let e=setInterval(c,6e4);return()=>clearInterval(e)}});var a=x(),n=r.iUc(a),u=r.J9n(r.iUc(n),2),m=r.iUc(u);r.mcB(u),r.mcB(n);var h=r.J9n(n,2),f=r.iUc(h),g=e=>{var s=v();r.R3I(e,s)},k=e=>{var s=r.UI8(),o=r.VHm(s),i=e=>{var s=d(),t=r.iUc(s);r.J9n(t).__click=c,r.mcB(s),r.OwZ(()=>r.u7_(t,`Error: ${r.U2M(l)??""} `)),r.R3I(e,s)},a=e=>{var s=r.UI8(),o=r.VHm(s),l=e=>{var s=p(),o=r.VHm(s),l=r.iUc(o),i=r.iUc(l),c=r.iUc(i);r.dyc(c,()=>r.U2M(t).RAW.FROMSYMBOL,!1,!1),r.mcB(i);var a=r.J9n(i,2),n=r.iUc(a);r.mcB(a),r.mcB(l);var v=r.J9n(l,2),d=r.iUc(v);r.dyc(d,()=>r.U2M(t).RAW.TOSYMBOL,!1,!1);var x=r.J9n(d);r.mcB(v),r.mcB(o),r.lpx(2),r.OwZ(()=>{r.u7_(n,`Last Updated: ${r.U2M(t).RAW.LASTUPDATE??""}`),r.u7_(x,` ${r.U2M(t).RAW.PRICE??""}`)}),r.R3I(e,s)};r.if(o,e=>{r.U2M(t)&&e(l)},!0),r.R3I(e,s)};r.if(o,e=>{r.U2M(l)?e(i):e(a,!1)},!0),r.R3I(e,s)};r.if(f,e=>{r.U2M(o)&&!r.U2M(t)?e(g):e(k,!1)}),r.mcB(h),r.mcB(a),r.OwZ(()=>r.u7_(m,`(${r.U2M(i)??""})`)),r.R3I(e,a),r.Swx()}r.clJ(["click"]);var m=r.XKW(`<div class="app svelte-r00r93"><nav class="svelte-r00r93"><div class="nav-content svelte-r00r93"><div class="nav-items svelte-r00r93"><span class="logo svelte-r00r93">PrevelteKit</span> <div class="nav-links svelte-r00r93"><a href="./" class="svelte-r00r93">Home</a> <a href="./doc" class="svelte-r00r93">Documentation</a> <a href="./example" class="svelte-r00r93">Example</a> <a href="https://github.com/tbocek/preveltekit/" target="_blank" rel="noopener noreferrer" aria-label="Link to project on GitHub" class="svelte-r00r93"><svg height="24" viewBox="0 0 16 16" width="24" style="fill: #4299e1;"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a> <div class="server-side-indicator svelte-r00r93">(these links are server-side routed links)</div></div></div></div></nav> <main class="svelte-r00r93"><div class="content svelte-r00r93"><!></div></main> <footer class="svelte-r00r93"><div class="footer-content svelte-r00r93"><p><span class="highlight">PrevelteKit</span> ‚Ä¢ Lightning fast builds ‚Ä¢ Pre-rendered SPA ‚Ä¢ Pure HTML/CSS/JS output</p></div></footer></div>`);(0,o.ZB)(function(e){var s=m(),t=r.J9n(r.iUc(s),2),o=r.iUc(t),i=r.iUc(o);(0,l.F0)(i,{routes:[{path:"(.*?)/doc",component:n},{path:"(.*?)/example",component:u},{path:"(.*?)/",component:c}]}),r.mcB(o),r.mcB(t),r.lpx(2),r.mcB(s),r.R3I(e,s)},{target:document.getElementById("root"),props:{}})}},s={};function t(o){var r=s[o];if(void 0!==r)return r.exports;var l=s[o]={exports:{}};return e[o](l,l.exports,t),l.exports}t.m=e,t.d=function(e,s){for(var o in s)t.o(s,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:s[o]})},t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},(()=>{var e=[];t.O=function(s,o,r,l){if(o){l=l||0;for(var i=e.length;i>0&&e[i-1][2]>l;i--)e[i]=e[i-1];e[i]=[o,r,l];return}for(var c=1/0,i=0;i<e.length;i++){for(var o=e[i][0],r=e[i][1],l=e[i][2],a=!0,n=0;n<o.length;n++)(!1&l||c>=l)&&Object.keys(t.O).every(function(e){return t.O[e](o[n])})?o.splice(n--,1):(a=!1,l<c&&(c=l));if(a){e.splice(i--,1);var v=r();void 0!==v&&(s=v)}}return s}})(),t.rv=function(){return"1.2.2"},(()=>{var e={980:0};t.O.j=function(s){return 0===e[s]};var s=function(s,o){var r,l,i=o[0],c=o[1],a=o[2],n=0;if(i.some(function(s){return 0!==e[s]})){for(r in c)t.o(c,r)&&(t.m[r]=c[r]);if(a)var v=a(t)}for(s&&s(o);n<i.length;n++)l=i[n],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(v)},o=self.webpackChunkpreveltekit=self.webpackChunkpreveltekit||[];o.forEach(s.bind(null,0)),o.push=s.bind(null,o.push.bind(o))})(),t.ruid="bundler=rspack@1.2.2";var o=t.O(void 0,["675"],function(){return t(262)});o=t.O(o)})();