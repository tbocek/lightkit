"use strict";(self.webpackChunkpreveltekit=self.webpackChunkpreveltekit||[]).push([["270"],{610:function(e,s,t){var o=t(91);t(758),t(795);var l=t(964);function i(e){let s=s=>{if(0===s.button&&!s.ctrlKey&&!s.metaKey&&!s.altKey&&!s.shiftKey){s.preventDefault();let o=e.getAttribute("href")||"";if(o.startsWith("http://")||o.startsWith("https://")||o.startsWith("//")||e.hasAttribute("external"))window.location.href=o;else{var t;t=o.startsWith("/")?o:`/${o}`,history.pushState(null,"",t),window.dispatchEvent(new CustomEvent("svelteNavigate",{detail:{path:t}})),console.log("NAVVVVVV")}}};return e.addEventListener("click",s),{destroy(){e.removeEventListener("click",s)}}}var r=l.XKW(`<div class="hero svelte-iopek6"><h1 class="svelte-iopek6"> </h1> <p class="subtitle svelte-iopek6">A Modern Framework for Building Fast, SEO-Friendly Web Applications</p> <div class="cta-buttons svelte-iopek6"><a href="doc" class="cta-button primary svelte-iopek6">View Documentation</a> <a href="example" class="cta-button secondary svelte-iopek6">Try Bitcoin Demo</a> <div class="server-side-indicator svelte-iopek6">(these links are client-side routed links)</div></div> <div class="features svelte-iopek6"><div class="feature svelte-iopek6"><h3 class="svelte-iopek6">‚ö°Ô∏è Lightning Fast</h3> <p class="svelte-iopek6">Pre-rendered pages with hydration for optimal performance</p></div> <div class="feature svelte-iopek6"><h3 class="svelte-iopek6">üìà Real-time Data</h3> <p class="svelte-iopek6">Seamless integration with external APIs and live updates</p></div> <div class="feature svelte-iopek6"><h3 class="svelte-iopek6">üîÑ SSPR Support</h3> <p class="svelte-iopek6">Server-Side Pre-Rendering for better SEO</p></div></div></div>`);function a(e){let s=l.jqu("Welcome to PrevelteKit");window?.JSDOM&&l.t8m(s,"Server-Side Pre-Rendered with PrevelteKit, you see this in the source code, you may see it flashing briefly, but you will not see this in the DOM after loading");var t=r(),o=l.iUc(t),a=l.iUc(o,!0);l.mcB(o);var c=l.J9n(o,4),n=l.iUc(c);l.aDg(n,e=>i?.(e));var v=l.J9n(n,2);l.aDg(v,e=>i?.(e)),l.lpx(2),l.mcB(c),l.lpx(2),l.mcB(t),l.OwZ(()=>l.u7_(a,l.U2M(s))),l.R3I(e,t)}var c=l.XKW(`<div class="docs svelte-2orxox"><header class="svelte-2orxox"><h1 class="svelte-2orxox">PrevelteKit Documentation</h1> <p class="render-info svelte-2orxox"> </p></header> <section class="svelte-2orxox"><h2 class="svelte-2orxox">Getting Started</h2> <div class="code-block svelte-2orxox"><pre class="svelte-2orxox"><code class="svelte-2orxox">git clone https://github.com/tbocek/preveltekit.git
cd preveltekit
pnpm install
pnpm dev    # Development mode
pnpm build  # Production build</code></pre></div></section> <section class="svelte-2orxox"><h2 class="svelte-2orxox">Core Features</h2> <h3 class="svelte-2orxox">üì¶ Server-Side Pre-Rendering (SSPR)</h3> <p class="svelte-2orxox">Unlike traditional SSR or SSG, SSPR pre-renders your app at build time while maintaining full interactivity through hydration.
            This gives you the best of both worlds: fast initial loads and dynamic functionality.</p> <h3 class="svelte-2orxox">‚ö° Build System</h3> <p class="svelte-2orxox">Built on Rsbuild for lightning-fast builds. The system automatically handles:</p> <ul class="svelte-2orxox"><li class="svelte-2orxox">TypeScript compilation and type checking</li> <li class="svelte-2orxox">Asset optimization and bundling</li> <li class="svelte-2orxox">CSS processing and minification</li> <li class="svelte-2orxox">Production optimizations like code splitting</li></ul> <h3 class="svelte-2orxox">üîÑ Development Workflow</h3> <p class="svelte-2orxox">Three modes available to suit your needs:</p> <ul class="svelte-2orxox"><li class="svelte-2orxox"><strong class="svelte-2orxox">Development (pnpm dev)</strong>: Express server with fast rebuilds and hot module replacement</li> <li class="svelte-2orxox"><strong class="svelte-2orxox">Staging (pnpm stage)</strong>: Production build with local preview server</li> <li class="svelte-2orxox"><strong class="svelte-2orxox">Production (pnpm build)</strong>: Optimized build with pre-compression (Brotli, Gzip, Zstandard)</li></ul></section> <section class="svelte-2orxox"><h2 class="svelte-2orxox">SSPR Development</h2> <h3 class="svelte-2orxox">üîç Detecting Server Pre-Rendering</h3> <p class="svelte-2orxox">PrevelteKit uses <code class="svelte-2orxox">window.JSDOM</code> to indicate when code is running during server pre-rendering.
            This is crucial for handling client-side-only code like API calls and intervals.</p> <div class="code-block svelte-2orxox"><pre class="svelte-2orxox"><code class="svelte-2orxox"></code></pre></div> <h3 class="svelte-2orxox">üîÑ Handling Client-Side Operations</h3> <p class="svelte-2orxox">When working with APIs, timers, or browser-specific features, wrap them in a JSDOM check to prevent execution during pre-rendering:</p> <div class="code-block svelte-2orxox"><pre class="svelte-2orxox"><code class="svelte-2orxox"></code></pre></div> <p class="svelte-2orxox"><strong class="svelte-2orxox">Common use cases for JSDOM checks:</strong></p> <ul class="svelte-2orxox"><li class="svelte-2orxox">API calls and data fetching</li> <li class="svelte-2orxox">Browser APIs (localStorage, sessionStorage)</li> <li class="svelte-2orxox">Timers and intervals</li> <li class="svelte-2orxox">DOM manipulation</li> <li class="svelte-2orxox">Browser-specific features (geolocation, notifications)</li></ul></section> <section class="svelte-2orxox"><h2 class="svelte-2orxox">Static Site Configuration</h2> <p class="svelte-2orxox">To add static routes to your application, configure them in <code class="svelte-2orxox">rsbuild.config.ts</code>.
            Each route needs an entry in the configuration. For example, to add routes for <code class="svelte-2orxox">/doc</code> and <code class="svelte-2orxox">/example</code>:</p> <div class="code-block svelte-2orxox"><pre class="svelte-2orxox"><code class="svelte-2orxox"></code></pre></div> <p class="svelte-2orxox"><strong class="svelte-2orxox">Important Notes:</strong></p> <ul class="svelte-2orxox"><li class="svelte-2orxox">Each entry key becomes a URL path in your application</li> <li class="svelte-2orxox">Subdirectories are not currently supported</li> <li class="svelte-2orxox">All entries point to the same <code class="svelte-2orxox">index.ts</code> file</li> <li class="svelte-2orxox">The router in your application will handle the actual component rendering</li></ul></section> <section class="svelte-2orxox"><h2 class="svelte-2orxox">Docker Support</h2> <p class="svelte-2orxox">Development environment:</p> <div class="code-block svelte-2orxox"><pre class="svelte-2orxox"><code class="svelte-2orxox">docker build -f Dockerfile.dev . -t preveltekit-dev
docker run -p3000:3000 -v./src:/app/src -v./public:/app/public preveltekit-dev</code></pre></div> <p class="svelte-2orxox">Production build:</p> <div class="code-block svelte-2orxox"><pre class="svelte-2orxox"><code class="svelte-2orxox">docker build . -t preveltekit
docker run -p3000:3000 preveltekit</code></pre></div></section> <section class="svelte-2orxox"><h2 class="svelte-2orxox">Project Structure</h2> <ul class="svelte-2orxox"><li class="svelte-2orxox"><strong class="svelte-2orxox">/src</strong>: Application source code</li> <li class="svelte-2orxox"><strong class="svelte-2orxox">/public</strong>: Static assets</li> <li class="svelte-2orxox"><strong class="svelte-2orxox">/dist</strong>: Production build output</li> <li class="svelte-2orxox"><strong class="svelte-2orxox">rsbuild.config.ts</strong>: Build configuration</li> <li class="svelte-2orxox"><strong class="svelte-2orxox">ssr.mjs</strong>: SSPR implementation</li></ul></section> <section class="svelte-2orxox"><h2 class="svelte-2orxox">Deployment</h2> <p class="svelte-2orxox">The production build generates static files with pre-compressed variants:</p> <ul class="svelte-2orxox"><li class="svelte-2orxox">Standard files (.js, .css, .html)</li> <li class="svelte-2orxox">Brotli compressed (.br)</li> <li class="svelte-2orxox">Gzip compressed (.gz)</li> <li class="svelte-2orxox">Zstandard compressed (.zst)</li></ul> <p class="svelte-2orxox">Deploy to any static hosting or web server that supports serving compressed assets.</p></section></div>`);function n(e){let s=l.jqu("Client Rendered");window?.JSDOM&&l.t8m(s,"Server Pre-Rendered");var t=c(),o=l.iUc(t),i=l.J9n(l.iUc(o),2),r=l.iUc(i);l.mcB(i),l.mcB(o);var a=l.J9n(o,6),n=l.J9n(l.iUc(a),6),v=l.iUc(n);l.iUc(v).textContent=`// Basic detection
let renderInfo = "Client Rendered";
if (window?.JSDOM) {
    renderInfo = "Server Pre-Rendered";
}`,l.mcB(v),l.mcB(n);var d=l.J9n(n,6),p=l.iUc(d);l.iUc(p).textContent=`$effect(() => {
    if (!window?.JSDOM) {
        fetchBitcoinPrice();
        // Set up refresh interval
        const interval = setInterval(fetchBitcoinPrice, 60000);
        return () => clearInterval(interval);
    }
});`,l.mcB(p),l.mcB(d),l.lpx(4),l.mcB(a);var x=l.J9n(a,2),u=l.J9n(l.iUc(x),4),m=l.iUc(u);l.iUc(m).textContent=`export default defineConfig({
    environments: {
        web: {
            plugins: [
                pluginSvelte(),
                pluginCssMinimizer()
            ],
            source: {
                entry: {
                    // Each entry corresponds to a static route
                    index: './src/index.ts',    // https://example.com/
                    doc: './src/index.ts',      // https://example.com/doc
                    example: './src/index.ts',  // https://example.com/example
                }
            },
            output: {
                target: 'web',
                minify: process.env.NODE_ENV === 'production',
            }
        }
    }
});`,l.mcB(m),l.mcB(u),l.lpx(4),l.mcB(x),l.lpx(6),l.mcB(t),l.OwZ(()=>l.u7_(r,`(${l.U2M(s)??""})`)),l.R3I(e,t)}var v=l.XKW('<div class="loading svelte-1r0itt8">Loading Bitcoin prices...</div>'),d=l.XKW('<div class="error svelte-1r0itt8"> <button class="svelte-1r0itt8">Retry</button></div>'),p=l.XKW('<div class="price-card svelte-1r0itt8"><div class="price-header svelte-1r0itt8"><span class="currency-code svelte-1r0itt8"><!></span> <span class="update-time svelte-1r0itt8"> </span></div> <div class="current-price svelte-1r0itt8"><!> </div></div> <div class="disclaimer svelte-1r0itt8">Cryptocurrency prices are highly volatile and subject to market risks. The displayed price information is for reference only and may not reflect real-time market conditions. Past performance is not indicative of future results. Please conduct your own research and consider your financial situation before making any investment decisions.</div>',1),x=l.XKW('<div class="bitcoin-dashboard svelte-1r0itt8"><div class="header svelte-1r0itt8"><h2 class="svelte-1r0itt8">Bitcoin Price Tracker</h2> <p class="render-info svelte-1r0itt8"> </p></div> <div class="price-display svelte-1r0itt8"><!></div></div>');function u(e,s){l.VFu(s,!0);let t=l.SBE(null),o=l.SBE(!0),i=l.SBE(null),r=l.SBE("Client Rendered");async function a(){try{l.t8m(o,!0),l.t8m(i,null);let e=await fetch("https://min-api.cryptocompare.com/data/generateAvg?fsym=BTC&tsym=USD&e=coinbase");if(!e.ok)throw Error("Failed to fetch data");l.t8m(t,l.sjz(await e.json()))}catch(e){l.t8m(i,l.sjz(e instanceof Error?e.message:"An error occurred"))}finally{l.t8m(o,!1)}}window?.JSDOM&&l.t8m(r,"Server Pre-Rendered"),l.JcM(()=>{if(!window?.JSDOM){a();let e=setInterval(a,6e4);return()=>clearInterval(e)}});var c=x(),n=l.iUc(c),u=l.J9n(l.iUc(n),2),m=l.iUc(u);l.mcB(u),l.mcB(n);var h=l.J9n(n,2),f=l.iUc(h),g=e=>{var s=v();l.R3I(e,s)},k=e=>{var s=l.UI8(),o=l.VHm(s),r=e=>{var s=d(),t=l.iUc(s);l.J9n(t).__click=a,l.mcB(s),l.OwZ(()=>l.u7_(t,`Error: ${l.U2M(i)??""} `)),l.R3I(e,s)},c=e=>{var s=l.UI8(),o=l.VHm(s),i=e=>{var s=p(),o=l.VHm(s),i=l.iUc(o),r=l.iUc(i),a=l.iUc(r);l.dyc(a,()=>l.U2M(t).RAW.FROMSYMBOL,!1,!1),l.mcB(r);var c=l.J9n(r,2),n=l.iUc(c);l.mcB(c),l.mcB(i);var v=l.J9n(i,2),d=l.iUc(v);l.dyc(d,()=>l.U2M(t).RAW.TOSYMBOL,!1,!1);var x=l.J9n(d);l.mcB(v),l.mcB(o),l.lpx(2),l.OwZ(()=>{l.u7_(n,`Last Updated: ${l.U2M(t).RAW.LASTUPDATE??""}`),l.u7_(x,` ${l.U2M(t).RAW.PRICE??""}`)}),l.R3I(e,s)};l.if(o,e=>{l.U2M(t)&&e(i)},!0),l.R3I(e,s)};l.if(o,e=>{l.U2M(i)?e(r):e(c,!1)},!0),l.R3I(e,s)};l.if(f,e=>{l.U2M(o)&&!l.U2M(t)?e(g):e(k,!1)}),l.mcB(h),l.mcB(c),l.OwZ(()=>l.u7_(m,`(${l.U2M(r)??""})`)),l.R3I(e,c),l.Swx()}l.clJ(["click"]);var m=l.XKW(`<div class="app svelte-r00r93"><nav class="svelte-r00r93"><div class="nav-content svelte-r00r93"><div class="nav-items svelte-r00r93"><span class="logo svelte-r00r93">PrevelteKit</span> <div class="nav-links svelte-r00r93"><a href="./" class="svelte-r00r93">Home</a> <a href="./doc" class="svelte-r00r93">Documentation</a> <a href="./example" class="svelte-r00r93">Example</a> <a href="https://github.com/tbocek/preveltekit/" target="_blank" rel="noopener noreferrer" aria-label="Link to project on GitHub" class="svelte-r00r93"><svg height="24" viewBox="0 0 16 16" width="24" style="fill: #4299e1;"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a> <div class="server-side-indicator svelte-r00r93">(these links are server-side routed links)</div></div></div></div></nav> <main class="svelte-r00r93"><div class="content svelte-r00r93"><!></div></main> <footer class="svelte-r00r93"><div class="footer-content svelte-r00r93"><p><span class="highlight">PrevelteKit</span> ‚Ä¢ Lightning fast builds ‚Ä¢ Pre-rendered SPA ‚Ä¢ Pure HTML/CSS/JS output</p></div></footer></div>`);(0,o.ZB)(function(e){var s=m(),t=l.J9n(l.iUc(s),2),i=l.iUc(t);!function(e,s){var t,i,r,a;l.VFu(s,!0),l.fD6(s,["$$slots","$$events","$$legacy"]);let c=l.SBE("/"),n=l.nKH(()=>s.routes||[]),v=l.nKH(()=>s.notFound||(()=>"<h1>404 - Page Not Found</h1>")),d=()=>{l.t8m(c,l.sjz(window.location.pathname))},p=e=>{l.t8m(c,l.sjz(e.detail.path))};(0,o.H3)(()=>{l.t8m(c,l.sjz(window.location.pathname)),window.addEventListener("popstate",d),window.addEventListener("svelteNavigate",p)}),(0,o.ev)(()=>{window.removeEventListener("popstate",d),window.removeEventListener("svelteNavigate",p)});let x=l.nKH(()=>(function(e){let s=e.endsWith("/")&&e.length>1?e.slice(0,-1):e,t=[];for(let e of l.U2M(n)){let o=e.path,l=o.split("/"),i=s.split("/");if(l.length!==i.length&&!o.includes("*"))continue;let r=!0,a={},c=0;for(let e=0;e<l.length;e++){let s=l[e],t=i[e];if(s.startsWith(":"))a[s.slice(1)]=t,c+=5;else if("*"===s)c+=1;else if(s===t)c+=10;else{r=!1;break}}r&&t.push({component:e.component,params:a,specificity:c})}return t.sort((e,s)=>s.specificity-e.specificity),console.log(e),console.log(t),t.length>0?{component:t[0].component,params:t[0].params}:{component:l.U2M(v),params:{}}})(l.U2M(c))),u=l.nKH(()=>l.U2M(x).component),m=l.nKH(()=>l.U2M(x).params);t=l.UI8(),i=l.VHm(t),r=e=>{var s=l.UI8(),t=l.VHm(s);l.DBn(t,()=>l.U2M(u),()=>({params:l.U2M(m)})),l.R3I(e,s)},a=e=>{var s=l.UI8(),t=l.VHm(s);l.DBn(t,()=>l.U2M(v)),l.R3I(e,s)},l.if(i,e=>{l.U2M(u)?e(r):e(a,!1)}),l.R3I(e,t),l.Swx()}(l.iUc(i),{routes:[{path:"/doc",component:n},{path:"/example",component:u},{path:"/",component:a},{path:"/index",component:a}]}),l.mcB(i),l.mcB(t),l.lpx(2),l.mcB(s),l.R3I(e,s)},{target:document.getElementById("root"),props:{}})}}]);